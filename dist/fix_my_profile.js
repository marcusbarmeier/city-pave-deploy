// Â© 2025 City Pave. All Rights Reserved. Unauthorized copying is prohibited.
import { doc, setDoc } from "https: async function fixMyProfile() { const { db, auth } = window.firebaseServices; if (!auth || !auth.currentUser) { console.log("Waiting for login..."); setTimeout(fixMyProfile, 500); return; } const user = auth.currentUser; console.log("Found User:", user.uid, user.email); try { await setDoc(doc(db, "users", user.uid), { uid: user.uid, name: user.displayName || "Admin User", email: user.email, role: 'admin', tenantId: 'citypave', status: 'Active', createdAt: new Date().toISOString() }, { merge: true }); alert(`Success! Profile for ${user.email} updated to Admin/CityPave. Refresh the page.`); } catch (error) { console.error("Profile Fix Failed:", error); alert("Failed to update profile: " + error.message); } } fixMyProfile();