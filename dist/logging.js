// Â© 2025 City Pave. All Rights Reserved. Unauthorized copying is prohibited.
import { getAnalytics, logEvent } from "https: import { getPerformance, trace } from "https: import { getApp } from "https: let analytics; let perf; export function initLogging() { try { const app = getApp(); analytics = getAnalytics(app); perf = getPerformance(app); console.log("[Cloud Logging] Initialized Analytics & Performance Monitoring"); } catch (e) { console.warn("[Cloud Logging] Failed to initialize Firebase services. Running in offline/dev mode?", e); } } export function logError(error, context = {}) { console.error("[Cloud Error Log]", error, context); if (analytics) { logEvent(analytics, 'exception', { description: error.message || error.toString(), fatal: true, ...context }); } } export function logAction(actionName, params = {}) { console.log("[Cloud Action Log]", actionName, params); if (analytics) { logEvent(analytics, actionName, params); } } export async function traceAction(actionName, fn) { if (!perf) return await fn(); const t = trace(perf, actionName); t.start(); try { const result = await fn(); return result; } finally { t.stop(); } }