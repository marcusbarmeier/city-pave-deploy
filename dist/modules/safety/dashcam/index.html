<!-- // Â© 2025 City Pave. All Rights Reserved. Unauthorized copying is prohibited. -->
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>City Pave - Dash Cam</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="../../../style.css"></head><body class="bg-black h-screen flex flex-col items-center justify-center"><div id="dashcam-container" class="w-full max-w-2xl"><div class="relative bg-gray-900 rounded-lg overflow-hidden aspect-video shadow-2xl border border-gray-800"><video id="dashcam-preview" class="w-full h-full object-cover" autoplay muted playsinline></video><div id="dashcam-ui-start"
                class="absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm"><button id="start-dashcam-btn"
                    class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full shadow-lg flex items-center gap-3 text-xl transition-transform active:scale-95"><div class="w-4 h-4 bg-red-500 rounded-full animate-pulse"></div> Start Recording
                </button></div><div id="dashcam-ui-active" class="hidden absolute inset-0 flex flex-col justify-between p-6"><div class="flex justify-between items-start"><div class="bg-black/60 px-3 py-1 rounded text-red-500 font-mono text-sm flex items-center gap-2"><div class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></div> REC
                    </div><button id="stop-dashcam-btn"
                        class="bg-gray-800/80 hover:bg-gray-700 text-white text-sm px-4 py-2 rounded border border-gray-600">Stop
                        / Save</button></div><button id="trigger-incident-btn"
                    class="w-full bg-red-600 hover:bg-red-700 text-white font-black text-xl py-6 rounded-xl shadow-xl border-2 border-white/50 animate-pulse active:scale-95 transition-all">
                    SAVE INCIDENT (LAST 2 MIN)
                </button></div></div><p id="dashcam-status" class="text-center text-gray-500 mt-4 font-mono text-sm">Standby</p><div class="mt-8 flex justify-center"><button onclick="window.history.back()" class="text-gray-400 hover:text-white flex items-center gap-2"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                Back to Employee Portal
            </button></div></div><script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-storage.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
        import { initializeDashCam } from './dashcam.js';

        const firebaseConfig = { apiKey: "AIzaSyADrnYgh1fSTo3IZD7HOEJMyjduzDYIYSs", authDomain: "city-pave-estimator.firebaseapp.com", projectId: "city-pave-estimator", storageBucket: "city-pave-estimator.firebasestorage.app", messagingSenderId: "111714884839", appId: "1:111714884839:web:2b782a1b7be5be8edc5642" };
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);

        // Expose services for dashcam.js
        window.firebaseServices = { auth, db, storage, ref, uploadBytes, getDownloadURL, collection, addDoc };

        // Init
        initializeDashCam();
    </script></body></html>